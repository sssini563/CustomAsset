# Compose file for production.

volumes:
  storage:

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    image: snipeit-custom:latest
    restart: unless-stopped
    volumes:
      # Code is baked into the image; only persist storage/uploads
      - storage:/var/lib/snipeit
    ports:
      - "${APP_PORT:-8000}:80"
    env_file:
      - .env